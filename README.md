# Python_homework
### Проект по созданию асинхронного приложения, взаимодействующего с базой данных SQLite

Описание структуры:
1. main.py - основной файл с подключением базы и бэкендом на базе FastAPI
2. pd_tables_create.py - файл с функциями, заполняющими таблицы в базе данных
3. classes.py - файл с классами pydantic
4. stores_addresses.csv и items.csv - таблицы - заготовки для загрузки синтетических данных в базу
5. requirements.txt - список зависимостей, использованных в проекте

### Схема базы данных
![image](https://user-images.githubusercontent.com/88885135/210854934-a2678712-c99d-4ea1-9878-4f046e9d32e1.png)

### Роутинги

1. обрабатывает GET-запрос на получение всех товарных позиций: http://127.0.0.1:8000/items/
2. обрабатывает GET-запрос на получение всех магазинов http://127.0.0.1:8000/stores/
3. обрабатывает POST-запрос с json-телом для сохранения данных о произведенной продаже (id товара + id магазина + дата продажи) http://127.0.0.1:8000/sales/
4. обрабатывает GET-запрос на получение данных по топ 10 самых доходных магазинов за месяц (id + адрес + суммарная выручка) http://127.0.0.1:8000/stores/top_10
   
   **ВАЖНО: запрос выдает топ-10 магазинов по выручке по КАЖДОМУ МЕСЯЦУ КАЖДОГО ГОДА продаж**
5. обрабатывает GET-запрос на получение данных по топ 10 самых продаваемых товаров (id + наименование + количество проданных товаров) http://127.0.0.1:8000/items/top_10
